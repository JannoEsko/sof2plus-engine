// This is the configuration file for SoF2Plus
// Please put this file in either base or your fs_game folder.
// Please do not rename this file, engine searches exactly for this name so it would be automatically executed
// Please refer to the GitHub page for extra information: https://github.com/JannoEsko/sof2plus-engine.git

// Networking cvars

seta net_ip "0.0.0.0" // Sets the IP address from which the server sockets listen. Can be left as 0.0.0.0, which defaults to all available interfaces.

// If you run only a single-protocol game, you still need to specify the respective game port
seta net_goldPort "20100" // Sets the port to which Gold (1.03; prot 2004) players connect to. 
seta net_silverPort "20101" // Sets the port to which Silver (1.00; prot 2002) players connect to
seta net_demoPort "20100" // Sets the port to which Demo (1.02t; prot 2001) players connect to

// Multiprotocol and modules

seta net_multiprotocol "1" // If set to 1, then the game will be broadcasted to both Silver (1.00) and Gold (1.03). Ensure that you do not enable weapons which do not exist in one or the other game. If you run 1fxplus, that'll take care of it by itself
seta net_runninglegacy "0" // Sets the baseline game module version. 0 => Game module is running Gold (1.03); 1 => Game module is running Silver (1.00). Mandatory to set correctly even if not running multiprotocol
seta sv_gameModernABI "1" // Controls which ABI is used for the game module. 0 => Legacy, original SoF2 ABI, 1 => Modern ABI (sof2plus-game / 1fxplus). If your server is not starting and errors out due to invalid game system traps, then most likely this cvar is set incorrectly.
set vm_game "0" // Controls how the Virtual Machines are handled. 0 => Native VM, in other words, a shared library (DLL / SO). If your game module runs DLL/SO's, then set this to 0. If you run QVM, please set this to 2. 2 will try to compile the QVM for faster usage and if your architecture does not support running in VM Compiled mode, it'll drop to 1 automatically.
set vm_gametype "0" // Controls how the Virtual Machine for Gametype module is handled, see above.

// General cvars

seta sv_hostname "SoF2Plus" // Sets the hostname of the server
seta rconpassword "sof2plus" // Sets the rconpassword of the server
seta sv_maxClients "16" // Sets how many clients can connect to the server
seta sv_maxIPConnections "10" // Sets how many clients can connect from a single IP address (q3fill fix)
seta sv_reconnectlimit "3" // How fast (in seconds) can a client reconnect after multiple attempts.
seta sv_floodProtect "1" // Keep at 1. Limits reliableCommands being parsed by the engine/game (e.g. chat etc)

set sv_fps "20" // Sets how often engine frames are run. In modern games this is called a 'tickrate'. Directly tied to the client /snaps value. Higher values yield more correct mechanics, but suffer on resources.

seta sv_minPing "0" // Min ping the player can have while connecting.
seta sv_maxPing "0" // Max ping the player can have while connecting.

seta sv_minRate "15000" // Sets the min rate value accepted from a client. Preferred value: 15000 and upwards.
seta sv_maxRate "0" // Sets the max rate value accepted from a client. It's fine to keep this at 0

seta sv_allowDownload "1" // Can be kept at 1 as q3dirtrav does not work with SoF2Plus. Allows clients to download files directly from the server. Requires clients to also run cl_allowdownload 1
seta sv_dlRate "0" // Controls how fast the autodowload is on the server (msec). 0 is unlimited.
seta sv_smartDownload "1" // References only current played map in referenced paks list. Breaks sv_pure compatibility.
seta sv_smartAdditionalPaksGold "" // PK3's to append to the referenced paks list for gold clients to download on top of the current map. Requires sv_smartDownload. List has to be a space-delimited pk3 filenames without extension, e.g. sv_smartAdditionalPaksGold "ROCmod_1fx_coreUI_1.21"
seta sv_smartAdditionalPaksSilver "" // PK3's to append to the referenced paks list for gold clients to download on top of the current map. Requires sv_smartDownload. List has to be a space-delimited pk3 filenames without extension, e.g. sv_smartAdditionalPaksSilver "RPM_2_0"

set sv_pure "0" // If you intend to use smartDownloads, do not turn this on. If you intend to run multiprotocol, do not turn this on. This directs the players to have the same checksum hashes on the packages loaded by the server and client

seta sv_silverClientMod "RPM" // Sets the fs_game sent over to silver clients over configstrings, directs what mod should the client load. 
seta sv_goldClientMod "ROCmod" // Sets the fs_game sent over to gold clients over configstrings, directs what mod should the client load.

seta com_zoneMegs "48" // Defines the memory given for the zone memory allocations. There's no point to change this unless you end up with allocation error messages.
seta com_hunkMegs "128" // Defines the memory given for the hunk allocations. There's no point to change this unless you end up with allocation error messages.

seta sv_mapcycle "none" // Defines the mapcycle file. 

seta timelimit "0" // Sets the timelimit for the map
seta scorelimit "0" // Sets the scorelimit for the map
seta dmflags "0" // Bitflags to control game logic. Flags sum together. Possible flags are: 0 => none, 8 => no falldamage, 16 => fixed FOV, 32 => no footsteps. So if you want e.g. No falldamage and no footsteps, you do 8 + 32 = 40.
seta g_gametype "inf" // Sets the gametype. Default setting, can be also overridden by the game module
seta g_spoofGametype "0" // Whether the server should spoof the gametype. Useful if you want to load a custom gametype without using latched g_gametype variables to spoof it. If turned on, requires usage of g_publicGametype
seta g_publicGametype "inf" // If g_spoofGametype is toggled on, this is the gametype sent over to the clients. 

seta sv_useLegacyNades "0" // If the client is using 1fx.rocmod client mod on Gold, then this can be set to 1. Otherwise this has to be 0.

seta com_gracefulErrors "1" // On a ERR_DROP error, engine tries to skip to the next map instead of crashing. Works best if sv_mapcycle is defined, because it runs the mapcycle command.
seta com_ansiColor "1" // When toggled on, instead of seeing e.g. ^71fx^1. in the console, you'll see the colored version.
seta logfile "s2pgame.log" // Set this to "" or 0 to disable logging into file from the engine side (will not prevent logging from Game VM side) 

// If you intend to start a mapcycle or a map from this configuration file, it must have 'delayed_cmd' in front of it.
//delayed_cmd map mp_shop
//delayed_cmd mapcycle
// The keyword 'delayed_cmd' ensures that the command is added to the end of the processable command line options, as at the time of parsing s2pserver.cfg, commands like map or mapcycle do not exist yet (but cvars do).
// Please note that delayed_cmd will not work in any other file except for the pre-initialization executable files (like s2pserver). Please don't use the command in your own executable config.

// If you want to execute your own configuration file (which can also boot up the server), please also exec it like:
//delayed_cmd exec config
// Otherwise, if your config file has commands which are not yet initialized, it won't work.
// Other commands can all be treated over the command line as usual.